<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Memory Website</title>

<style>
body{
  font-family: Arial;
  background:#ffe6f0;
  text-align:center;
}

.box{
  background:white;
  width:90%;
  max-width:400px;
  margin:auto;
  margin-top:60px;
  padding:20px;
  border-radius:15px;
}

button{
  padding:10px 20px;
  border:none;
  border-radius:20px;
  background:#ff7aa2;
  color:white;
  font-size:16px;
  cursor:pointer;
}

select, textarea{
  width:90%;
  padding:10px;
  margin:10px;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div class="box" id="page1">
<h2>‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö üíñ</h2>
<p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>

<select id="friend">
<option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ --</option>
<option value="a">‡∏ô‡∏±‡∏ã‡∏°‡∏µ</option>
<option value="b">‡∏≠‡∏¥‡∏ô‡∏ã‡∏≤‡∏ô</option>
<option value="c">‡∏≠‡∏≤‡∏ô‡∏¥‡∏™</option>
<option value="d">‡πÑ‡∏£‡∏≠‡∏±‡∏ô</option>
<option value="e">‡∏ü‡∏≤‡πÄ‡∏î‡∏•</option>
<option value="f">‡∏ü‡∏≤‡∏£‡∏∏‡∏Å</option>
</select>

<br><br>
<button onclick="goQuestion()">‡∏ñ‡∏±‡∏î‡πÑ‡∏õ</button>
</div>

<!-- PAGE 2 -->
<div class="box" id="page2" style="display:none;">
<h2>‡∏ú‡πà‡∏≤‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏ö‡πâ‡∏≤‡∏á ‚ú®</h2>

<p>‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ñ‡∏∑‡∏≠</p>
<textarea id="memory"></textarea>

<p>‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡∏ñ‡∏∂‡∏á‡πÄ‡∏£‡∏≤</p>
<textarea id="wish"></textarea>

<p>‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏£‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏à‡∏ö‡∏°‡∏±‡πâ‡∏¢</p>
<textarea id="message2"></textarea>

<button onclick="goResult()">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
</div>

<!-- PAGE 3 -->
<div class="box" id="page3" style="display:none;">
<h2>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å‡πÄ‡∏£‡∏≤‡∏ñ‡∏∂‡∏á‡∏Ñ‡∏∏‡∏ì üíå</h2>
<p id="message"></p>
</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getFirestore, collection, addDoc }
from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

/* ---------- Firebase ---------- */
const firebaseConfig = {
  apiKey: "AIzaSyAJnn3Aut3fFxnCma6xemtOb8xC21cvJXc",
  authDomain: "memories-896cd.firebaseapp.com",
  projectId: "memories-896cd",
  storageBucket: "memories-896cd.firebasestorage.app",
  messagingSenderId: "418034411537",
  appId: "1:418034411537:web:a0c1503725bd820a08e9b0"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

/* ---------- Page Control ---------- */
let friend = "";

const page1 = document.getElementById("page1");
const page2 = document.getElementById("page2");
const page3 = document.getElementById("page3");

window.goQuestion = function(){

  friend = document.getElementById("friend").value;

  if(friend===""){
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏ô‡∏∞");
    return;
  }

  page1.style.display="none";
  page2.style.display="block";
};

/* ---------- Submit ---------- */
window.goResult = async function(){

  let memory = document.getElementById("memory").value;
  let wish = document.getElementById("wish").value;
  let extra = document.getElementById("message2").value;

  try{

    await addDoc(collection(db,"answers"),{
      name: friend,
      memory: memory,
      wish: wish,
      extra: extra,
      time: new Date()
    });

    page2.style.display="none";
    page3.style.display="block";

    showMessage();

  }catch(error){
    alert("‡πÄ‡∏Å‡∏¥‡∏î error: " + error.message);
  }
};

/* ---------- Show Message ---------- */
function showMessage(){

  let msg="";

  if(friend==="a"){
    msg="‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏ò‡∏≠‡∏°‡∏≤‡∏Å‡∏ô‡∏∞ ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡πÄ‡∏™‡∏°‡∏≠ üíñ";
  }
  else if(friend==="b"){
    msg="‡∏î‡∏µ‡πÉ‡∏à‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏™‡∏ô‡∏¥‡∏ó‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡∏°‡∏≠ ‚ú®";
  }
  else if(friend==="c"){
    msg="‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏°.‡∏õ‡∏•‡∏≤‡∏¢‡∏°‡∏µ‡∏™‡∏µ‡∏™‡∏±‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÄ‡∏ò‡∏≠‡∏à‡∏£‡∏¥‡∏á ‡πÜ üòä";
  }
  else if(friend==="d"){
    msg="‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πà‡∏á‡πÅ‡∏•‡∏∞‡∏ó‡∏∏‡πà‡∏°‡πÄ‡∏ó‡∏°‡∏≤‡∏Å ‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡πÄ‡∏ò‡∏≠‡πÄ‡∏™‡∏°‡∏≠";
  }
  else if(friend==="e"){
    msg="‡∏Å‡∏≤‡∏£‡∏°‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÅ‡∏ö‡∏ö‡πÅ‡∏Å‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏î‡∏π‡∏ä‡∏¥‡∏•‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏•‡∏¢ ü§ç";
  }
  else if(friend==="f"){
    msg="‡πÄ‡∏´‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡πÅ‡∏Å‡πÄ‡∏™‡∏°‡∏≠ ‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‡πÉ‡∏ô‡∏ï‡∏±‡∏ß‡∏ü‡∏≤‡∏£‡∏∏‡∏Å‡∏ô‡∏∞ üåô";
  }

  document.getElementById("message").innerText = msg;
}

</script>

</body>
</html>
